import streamlit as st
import pandas as pd
import plotly.express as px

# Function to load and apply custom CSS
def load_css(file_name):
    with open(file_name) as f:
        st.markdown(f'<style>{f.read()}</style>', unsafe_allow_html=True)

# Load the CSS file
load_css('styles/style.css')

# 1. Page Configuration
st.set_page_config(layout="wide", page_title="داشبورد کارانه کارکنان")

# 2. Load and prepare data (with your updated employee list)
@st.cache_data
def load_data():
    data = {
        'نام_کارمند': [
            # IT
            'زینب پاکمهر', 'مهدیه غلامی', 'پریسا پورمظاهری', 'الهام یغمایی',
            # مصرف کننده
            'امیرحسین شفیقی', 'سعید حسینی جبلی', 'مهدی احمدی', 'مصطفی فرخفال',
            # کشاورزی
            'آزاده ناصر اسلامی', 'حمیده نجفی', 'پریسا میرزایی', 'زهرا علینژاد', 'محمد حسین ترانه', 'حجت اکبریان',
            # صنعت
            'لیلا تیموریان', 'بهاره انتظاری', 'عبدالرحیم ایرا',
            # خدمات
            'سارا طاعتی', 'معصومه افشاری', 'سمیه جعفری', 'رضا هادی زاده'
        ],
        'دپارتمان': [
            # IT
            'IT', 'IT', 'IT', 'IT',
            # مصرف کننده
            'مصرف کننده', 'مصرف کننده', 'مصرف کننده', 'مصرف کننده',
            # کشاورزی
            'کشاورزی', 'کشاورزی', 'کشاورزی', 'کشاورزی', 'کشاورزی', 'کشاورزی',
            # صنعت
            'صنعت', 'صنعت', 'صنعت',
            # خدمات
            'خدمات', 'خدمات', 'خدمات', 'خدمات'
        ],
        'نوع_فرد': [
            # IT
            'کارشناس', 'کارشناس', 'کارشناس', 'رئیس گروه',
            # مصرف کننده
            'کارشناس', 'کارشناس', 'کارشناس', 'رئیس گروه',
            # کشاورزی
            'کارشناس', 'کارشناس', 'کارشناس', 'کارشناس', 'کارشناس', 'رئیس گروه',
            # صنعت
            'کارشناس', 'کارشناس', 'رئیس گروه',
            # خدمات
            'کارشناس', 'کارشناس', 'کارشناس', 'رئیس گروه'
        ],
        'شاخص_عملکرد_فردی': [0.9, 0.85, 0.95, 0.8, 0.92, 0.88, 0.91, 0.85, 0.9, 0.8, 0.95, 0.9, 0.88, 0.85, 0.91, 0.88, 0.95, 0.89, 0.9, 0.85, 0.9],
        'شاخص_تیمی': [1.1, 1.05, 1.0, 1.15, 1.08, 1.0, 1.05, 1.1, 1.05, 1.0, 1.15, 1.08, 1.0, 1.05, 1.1, 1.0, 1.05, 1.1, 1.05, 1.0, 1.0]
    }
    df = pd.DataFrame(data)
    df['کارانه'] = df['شاخص_عملکرد_فردی'] * df['شاخص_تیمی'] * 1000
    return df

df = load_data()

# ... (ادامه کد بدون تغییر) ...